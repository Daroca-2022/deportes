{"ast":null,"code":"var _jsxFileName = \"D:\\\\UNAD-PROYECTO\\\\deportes\\\\proyectog15-g2\\\\src\\\\components\\\\PageLogin.js\";\nimport React, { Component } from 'react';\nimport '../css/Login.css';\nimport '../imagenes/logo.jpg';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst urlLogin = \"http://localhost:5000/usuarios\";\nconst cookies = new Cookies();\nclass PageLogin extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        email: '',\n        password: ''\n      }\n    };\n    this.handleChange = async e => {\n      await this.setState({\n        form: {\n          ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n      //console.log(this.state.form)\n    };\n    this.iniciarSesion = async () => {\n      let email = this.state.form.email;\n      let pwd = this.state.form.password;\n      if (email.length <= 0 || pwd.length <= 0) {\n        alert('Se requieren todos los datos para continuar');\n        return \"Datos Vacios\";\n      }\n      await axios.get(urlLogin + \"/\" + email + \"/\" + pwd).then(response => {\n        //console.log(response.data)\n        return response.data;\n      }).then(response => {\n        if (response.length > 0) {\n          var resp = response[0]; // para evitar llamados tan largos con corchetes\n          cookies.set(\"_id\", resp._id, {\n            path: \"/\"\n          }); /// el path es para que se puedan acceder de cualquier pagina\n          cookies.set(\"usu_email\", resp.usu_email, {\n            path: \"/\"\n          });\n          cookies.set(\"usu_email\", resp.usu_email, {\n            path: \"/\"\n          });\n          cookies.set(\"usu_nombres\", resp.usu_nombres, {\n            path: \"/\"\n          });\n          cookies.set(\"usu_apellidos\", resp.usu_apellidos, {\n            path: \"/\"\n          });\n          alert(\"Bienveni@ \" + resp.usu_nombres + \" \" + resp.usu_apellidos);\n          window.location.href = './';\n        } else {\n          alert(\"Verificar Usario y/o Clave\");\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerPrincipal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerSecundario\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            name: \"email\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Contrase\\xF1a: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            name: \"password\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => this.iniciarSesion(),\n            children: \"Iniciar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default PageLogin;","map":{"version":3,"names":["React","Component","axios","Cookies","urlLogin","cookies","PageLogin","state","form","email","password","handleChange","e","setState","target","name","value","iniciarSesion","pwd","length","alert","get","then","response","data","resp","set","_id","path","usu_email","usu_nombres","usu_apellidos","window","location","href","catch","error","console","log","render"],"sources":["D:/UNAD-PROYECTO/deportes/proyectog15-g2/src/components/PageLogin.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport '../css/Login.css'\r\nimport '../imagenes/logo.jpg'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport axios from 'axios'\r\nimport Cookies from 'universal-cookie'\r\n\r\nconst urlLogin=\"http://localhost:5000/usuarios\"\r\nconst cookies = new Cookies();\r\n\r\nclass PageLogin extends Component {\r\n    state={\r\n        form:{\r\n            email: '',\r\n            password: '',\r\n            \r\n        }        \r\n    }\r\n    \r\n    handleChange=async e=>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]:e.target.value\r\n            }\r\n        })\r\n        //console.log(this.state.form)\r\n    }\r\n\r\n    iniciarSesion=async()=>{\r\n        let email=this.state.form.email\r\n        let pwd=this.state.form.password\r\n        if(email.length<=0 || pwd.length<=0){\r\n            alert('Se requieren todos los datos para continuar');            \r\n            return \"Datos Vacios\"\r\n        }\r\n        \r\n        await axios.get(urlLogin+\"/\"+email+\"/\"+pwd)\r\n        .then(response=>{\r\n            //console.log(response.data)\r\n            return response.data\r\n        }).then(response=>{\r\n            if(response.length>0){\r\n              var resp=response[0] // para evitar llamados tan largos con corchetes\r\n              cookies.set(\"_id\",resp._id,{path:\"/\"})/// el path es para que se puedan acceder de cualquier pagina\r\n              cookies.set(\"usu_email\",resp.usu_email,{path:\"/\"})\r\n              cookies.set(\"usu_email\",resp.usu_email,{path:\"/\"})\r\n              cookies.set(\"usu_nombres\",resp.usu_nombres,{path:\"/\"})\r\n              cookies.set(\"usu_apellidos\",resp.usu_apellidos,{path:\"/\"})\r\n              alert(\"Bienveni@ \"+resp.usu_nombres+\" \"+ resp.usu_apellidos)\r\n              \r\n              window.location.href='./'\r\n            }else{\r\n                alert(\"Verificar Usario y/o Clave\")\r\n            }\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return(\r\n        <div className=\"containerPrincipal\">\r\n            <div className=\"containerSecundario\">\r\n                <div className=\"form-group\">\r\n                    <label>Email: </label>\r\n                    <br />\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        name=\"email\"\r\n                        onChange={this.handleChange}\r\n                    />\r\n                    <br />\r\n                    <label>Contraseña: </label>\r\n                    <br />\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        onChange={this.handleChange}\r\n                    />\r\n                    <br />\r\n                    <button className=\"btn btn-primary\" onClick={() => this.iniciarSesion()}>Iniciar Sesión</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PageLogin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}